{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.bdfab5ffbdbe0dd728f5.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React, {Component} from 'react';\r\nimport CertificateController from '../interface/certificateController';\r\nimport web3 from '../interface/web3';\r\nimport {Card, Button, Table, Form, Input, Message, Select} from 'semantic-ui-react';\r\nimport {Link} from '../../routes'\r\nimport Layout from '../components/Layout'\r\nimport HelperFunctions from \"../utils/constants\";\r\n\r\nclass StudentCertificateIndex extends Component {\r\n\r\n    state = {\r\n        idType: 'studentId',\r\n        loading: false,\r\n        idValue: '',\r\n        errorMessage: '',\r\n        certificateState : ''\r\n    };\r\n\r\n    onSearch = async (event) => {\r\n        event.preventDefault();\r\n        let certificate;\r\n        this.setState({loading: true, errorMessage: ''});\r\n        try {\r\n            if (this.state.idType === 'studentId') {\r\n                certificate = await CertificateController.methods.getCertificateByStudentId(HelperFunctions.convertStringToHex(this.state.idValue)).call();\r\n                this.renderCertificates(certificate)\r\n            } else {\r\n                certificate = await CertificateController.methods.getCertificateById(this.state.idValue).call();\r\n            }\r\n            this.renderCertificates(certificate);\r\n        } catch (e) {\r\n            this.setState({errorMessage: e.message});\r\n        }\r\n        this.setState({loading: false, contributionValue: ''});\r\n\r\n    };\r\n\r\n    renderCertificates = (certificates) => {\r\n        console.log(certificates);\r\n        let items = [];\r\n        for (let i = 0; i < certificates['0'].length; i++) {\r\n            items.push({\r\n                header: certificates['0'][i],\r\n                description: (\r\n                    <Link route={`/certificate/${certificates['0'][i]}`}>\r\n                        <a>\r\n                            View Certificate\r\n                        </a>\r\n                    </Link>\r\n                ),\r\n                fluid: true\r\n            });\r\n        }\r\n        this.setState({certificateState  : items});\r\n\r\n        // return <Card.Group items={items}/>\r\n\r\n    };\r\n\r\n\r\n    render() {\r\n        const options = [\r\n            {key: 'studentId', text: 'Student ID', value: 'studentId'},\r\n            {key: 'certificateId', text: 'Certificate ID', value: 'certificateId'}\r\n        ];\r\n        return (\r\n            <Layout>\r\n                <Form onSubmit={this.onSearch} error={!!this.state.errorMessage}>\r\n                    <Input\r\n                        style={{marginTop: '50px'}}\r\n                        type='text'\r\n                        size=\"massive\"\r\n                        onChange={event => this.setState({idValue: event.target.value})}\r\n                        value={this.state.idValue}\r\n                        fluid\r\n                        placeholder='Search Certificate by...'\r\n                        action>\r\n                        <input/>\r\n                        <Select compact options={options} value={this.state.idType}\r\n                                onChange={(e, {value}) => this.setState({idType: value})}/>\r\n                        <Message error header=\"Oops!\" content={this.state.errorMessage}/>\r\n                        <Button type='submit'>Search</Button>\r\n                    </Input>\r\n                </Form>\r\n                {/*{(this.state.cardview) ?  (<div>card view</div>  ) : (null)}*/}\r\n                this.state.certificateState.map((item, i) => {\r\n                            console.log(item + ' '+i)\r\n            }).bind(this)\r\n            </Layout>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default StudentCertificateIndex;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;;;;;;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAJA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAMA;AACA;AAAA;AACA;AARA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AASA;AACA;AAVA;AAWA;AACA;AAZA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAYA;AAAA;AAAA;AACA;AAdA;AAeA;AAAA;AAAA;AAAA;AACA;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AAkBA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAMA;AATA;AAWA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;;;;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AARA;AAUA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AASA;;;;AAlFA;AACA;AAsFA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}